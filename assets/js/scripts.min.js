!function(){"use strict";const e="js-header",t="js-navbar-menu",s="is-hidden",a="is-visible",n="is-sticky",i=10,r=60,l=200,o=5,c=document.getElementById(e),d=document.getElementById(t);if(!c)return void console.warn(`Sticky menu: Header element with ID "${e}" not found. Script will not run.`);let u=window.scrollY,m=!1,v=c.offsetHeight,h=null;function b(){h&&(clearTimeout(h),h=null)}function p(){c.classList.remove(s),c.classList.add(a),d&&d.classList.add(n)}function f(){c.classList.remove(s,a),d&&d.classList.remove(n),b()}function y(){const e=window.scrollY,t=e-u;if(e<=o)return f(),u=Math.max(0,e),void(m=!1);Math.abs(t)<i||(t>0&&e>v?c.classList.contains(s)||(c.classList.remove(a),c.classList.add(s),b()):t<0&&c.classList.contains(s)&&(b(),Math.abs(t)<r?h=setTimeout(p,l):p()),u=Math.max(0,e)),m=!1}window.scrollY>o?window.scrollY>v&&c.classList.add(s):f(),u=window.scrollY,window.addEventListener("scroll",function(){m||(window.requestAnimationFrame(y),m=!0)},{passive:!0}),window.addEventListener("resize",function(){v=c.offsetHeight},{passive:!0})}(),function(e){var t={mobileMenuMode:"sidebar",animationSpeed:300,submenuWidth:300,doubleClickTime:500,mobileMenuExpandableSubmenus:!0,isHoverMenu:!0,wrapperSelector:".navbar",buttonSelector:".navbar__toggle",menuSelector:".navbar__menu",submenuSelector:".navbar__submenu",mobileMenuSidebarLogoSelector:null,mobileMenuSidebarLogoUrl:null,relatedContainerForOverlayMenuSelector:null,ariaButtonAttribute:"aria-haspopup",separatorItemClass:"is-separator",parentItemClass:"has-submenu",submenuLeftPositionClass:"is-left-submenu",submenuRightPositionClass:"is-right-submenu",mobileMenuOverlayClass:"navbar_mobile_overlay",mobileMenuSubmenuWrapperClass:"navbar__submenu_wrapper",mobileMenuSidebarClass:"navbar_mobile_sidebar",mobileMenuSidebarOverlayClass:"navbar_mobile_sidebar__overlay",hiddenElementClass:"is-hidden",openedMenuClass:"is-active",noScrollClass:"no-scroll",relatedContainerForOverlayMenuClass:"is-visible"},s={};function a(e){for(var t=e.querySelectorAll(s.submenuSelector),a=0;a<t.length;a++)t[a].setAttribute("aria-hidden",!1)}function n(e){for(var t=e.querySelectorAll(s.submenuSelector),a=0;a<t.length;a++){var n=document.createElement("div");n.classList.add(s.mobileMenuSubmenuWrapperClass),t[a].parentNode.insertBefore(n,t[a]),n.appendChild(t[a])}}function i(e){for(var t=e.querySelectorAll("."+s.parentItemClass),a=0;a<t.length;a++){t[a].addEventListener("click",function(e){e.stopPropagation();var t=this.querySelector("."+s.mobileMenuSubmenuWrapperClass),a=t.firstElementChild;if(t.classList.contains(s.openedMenuClass)){var n=a.clientHeight;t.style.height=n+"px",setTimeout(function(){t.style.height="0px"},0),setTimeout(function(){t.removeAttribute("style"),t.classList.remove(s.openedMenuClass)},s.animationSpeed),a.setAttribute("aria-hidden",!0),a.parentNode.firstElementChild.setAttribute("aria-expanded",!1)}else{n=a.clientHeight;t.classList.add(s.openedMenuClass),t.style.height="0px",setTimeout(function(){t.style.height=n+"px"},0),setTimeout(function(){t.removeAttribute("style")},s.animationSpeed),a.setAttribute("aria-hidden",!1),a.parentNode.firstElementChild.setAttribute("aria-expanded",!0)}});for(var n=t[a].children,i=0;i<n.length;i++)"A"===n[i].tagName&&n[i].addEventListener("click",function(e){var t=parseInt(this.getAttribute("data-last-click"),10),a=+new Date;isNaN(t)||t+s.doubleClickTime<=a?(e.preventDefault(),this.setAttribute("data-last-click",a)):t+s.doubleClickTime>a&&(e.stopPropagation(),r(this,!0))})}}function r(e,t){if(!1!==t||!e.parentNode.classList.contains(s.parentItemClass)){var a=document.querySelector(s.relatedContainerForOverlayMenuSelector),n=document.querySelector(s.buttonSelector),i=document.querySelector("."+s.mobileMenuOverlayClass);i||(i=document.querySelector("."+s.mobileMenuSidebarClass)),i.classList.add(s.hiddenElementClass),n.classList.remove(s.openedMenuClass),n.setAttribute(s.ariaButtonAttribute,!1),document.documentElement.classList.remove(s.noScrollClass),a&&a.classList.remove(s.relatedContainerForOverlayMenuClass);var r=document.querySelector("."+s.mobileMenuSidebarOverlayClass);r&&r.classList.add(s.hiddenElementClass)}}Object.keys(t).forEach(function(e){s[e]=t[e]}),"object"==typeof e&&Object.keys(e).forEach(function(t){s[t]=e[t]}),document.querySelectorAll(s.wrapperSelector).length&&(function(){for(var e=document.querySelectorAll(s.wrapperSelector+" ."+s.parentItemClass),t=0;t<e.length;t++){var a=s.isHoverMenu?"mouseenter":"click";e[t].addEventListener(a,function(){var e=this.querySelector(s.submenuSelector),t=this.getBoundingClientRect().left,a=2;if(this.parentNode===document.querySelector(s.menuSelector)&&(a=1),"auto"!==s.submenuWidth){var n=t+s.submenuWidth*a;window.innerWidth<n?(e.classList.remove(s.submenuLeftPositionClass),e.classList.add(s.submenuRightPositionClass)):(e.classList.remove(s.submenuRightPositionClass),e.classList.add(s.submenuLeftPositionClass))}else{n=0;var i=0;n=1===a?t+e.clientWidth:t+this.clientWidth+e.clientWidth,window.innerWidth<n?(e.classList.remove(s.submenuLeftPositionClass),e.classList.add(s.submenuRightPositionClass),i=-1*e.clientWidth,e.removeAttribute("style"),1===a?(i=0,e.style.right=i+"px"):e.style.right=this.clientWidth+"px"):(e.classList.remove(s.submenuRightPositionClass),e.classList.add(s.submenuLeftPositionClass),i=this.clientWidth,1===a&&(i=0),e.removeAttribute("style"),e.style.left=i+"px")}e.setAttribute("aria-hidden",!1)}),s.isHoverMenu&&e[t].addEventListener("mouseleave",function(){var e=this.querySelector(s.submenuSelector);e.removeAttribute("style"),e.setAttribute("aria-hidden",!0)})}}(),"overlay"===s.mobileMenuMode?function(){var e=document.createElement("div");e.classList.add(s.mobileMenuOverlayClass),e.classList.add(s.hiddenElementClass);var t=document.querySelector(s.menuSelector).outerHTML;e.innerHTML=t,document.body.appendChild(e),s.mobileMenuExpandableSubmenus?(n(e),i(e)):a(e);var r=document.querySelector(s.buttonSelector);r.addEventListener("click",function(){var t=document.querySelector(s.relatedContainerForOverlayMenuSelector);e.classList.toggle(s.hiddenElementClass),r.classList.toggle(s.openedMenuClass),r.setAttribute(s.ariaButtonAttribute,r.classList.contains(s.openedMenuClass)),r.classList.contains(s.openedMenuClass)?(document.documentElement.classList.add(s.noScrollClass),t&&t.classList.add(s.relatedContainerForOverlayMenuClass)):(document.documentElement.classList.remove(s.noScrollClass),t&&t.classList.remove(s.relatedContainerForOverlayMenuClass))})}():"sidebar"===s.mobileMenuMode&&function(){var e=document.createElement("div");e.classList.add(s.mobileMenuSidebarClass),e.classList.add(s.hiddenElementClass);var t="";null!==s.mobileMenuSidebarLogoSelector?t=document.querySelector(s.mobileMenuSidebarLogoSelector).outerHTML:null!==s.mobileMenuSidebarLogoUrl&&(t='<img src="'+s.mobileMenuSidebarLogoUrl+'" alt="" />'),t+=document.querySelector(s.menuSelector).outerHTML,e.innerHTML=t;var r=document.createElement("div");r.classList.add(s.mobileMenuSidebarOverlayClass),r.classList.add(s.hiddenElementClass),document.body.appendChild(r),document.body.appendChild(e),s.mobileMenuExpandableSubmenus?(n(e),i(e)):a(e),e.addEventListener("click",function(e){e.stopPropagation()}),r.addEventListener("click",function(){e.classList.add(s.hiddenElementClass),r.classList.add(s.hiddenElementClass),l.classList.remove(s.openedMenuClass),l.setAttribute(s.ariaButtonAttribute,!1),document.documentElement.classList.remove(s.noScrollClass)});var l=document.querySelector(s.buttonSelector);l.addEventListener("click",function(){e.classList.toggle(s.hiddenElementClass),r.classList.toggle(s.hiddenElementClass),l.classList.toggle(s.openedMenuClass),l.setAttribute(s.ariaButtonAttribute,l.classList.contains(s.openedMenuClass)),document.documentElement.classList.toggle(s.noScrollClass)})}(),function(){for(var e=document.querySelectorAll(s.menuSelector+" a"),t=0;t<e.length;t++)e[t].parentNode.classList.contains(s.parentItemClass)||e[t].addEventListener("click",function(e){r(this,!1)})}(),s.isHoverMenu||function(){for(var e=document.querySelectorAll(s.wrapperSelector+" *[aria-hidden]"),t=0;t<e.length;t++){var a=e[t];a.parentNode.classList.contains("active")||a.parentNode.classList.contains("active-parent")?(a.setAttribute("aria-hidden","false"),a.parentNode.firstElementChild.setAttribute("aria-expanded",!0)):(a.setAttribute("aria-hidden","true"),a.parentNode.firstElementChild.setAttribute("aria-expanded",!1))}}())}(window.publiiThemeMenuConfig);var comments=document.querySelector(".js-post__comments-button");comments&&comments.addEventListener("click",function(){comments.classList.toggle("is-hidden"),document.querySelector(".js-post__comments-inner").classList.toggle("is-visible")});const searchButton=document.querySelector(".search-toggle"),searchOverlay=document.querySelector(".search-overlay"),searchInput=document.querySelector(".search__input");if(searchButton&&searchOverlay){const e=()=>{searchOverlay.classList.add("expanded"),document.body.classList.add("is-search-active"),searchButton.setAttribute("aria-expanded","true"),searchOverlay.setAttribute("aria-hidden","false"),searchInput&&setTimeout(()=>searchInput.focus(),60)},t=()=>{searchOverlay.classList.remove("expanded"),document.body.classList.remove("is-search-active"),searchButton.setAttribute("aria-expanded","false"),searchOverlay.setAttribute("aria-hidden","true")},s=()=>{searchOverlay.classList.contains("expanded")?t():e()};searchButton.addEventListener("click",e=>{e.stopPropagation(),s()}),searchOverlay.addEventListener("click",e=>{e.stopPropagation()}),document.body.addEventListener("click",e=>{const s=searchOverlay.contains(e.target),a=e.target.closest(".search-toggle");!searchOverlay.classList.contains("expanded")||s||a||t()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&searchOverlay.classList.contains("expanded")&&t()})}!function(){const e=document.querySelector(".js-content__share-button"),t=document.querySelector(".js-content__share-popup"),s=".js-share",a=500,n=500,i=()=>{t.style.visibility="hidden",t.style.display="block";const s=t.offsetHeight,a=e.getBoundingClientRect(),n=a.top,i=window.innerHeight-a.bottom,l=s>n&&i>n;t.classList.remove("is-flipped"),l&&t.classList.add("is-flipped"),t.style.visibility="",t.style.display="",t.classList.add("is-visible"),e.setAttribute("aria-expanded","true"),t.focus(),(e=>{const t=e.querySelectorAll("a, button"),s=t[0],a=t[t.length-1];e.addEventListener("keydown",e=>{"Escape"===e.key&&r(),"Tab"===e.key&&(e.shiftKey&&document.activeElement===s?(e.preventDefault(),a.focus()):e.shiftKey||document.activeElement!==a||(e.preventDefault(),s.focus()))})})(t)},r=()=>{t.classList.remove("is-visible"),t.classList.remove("is-flipped"),e.setAttribute("aria-expanded","false")};e&&t&&(t.addEventListener("click",e=>e.stopPropagation()),e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();t.classList.contains("is-visible")?r():i()}),document.body.addEventListener("click",r),document.body.addEventListener("keydown",e=>{"Escape"===e.key&&r()}));document.querySelectorAll(s).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();const t=e.target.closest(s);if(!t)return;r();const i=Math.floor((window.innerWidth-a)/2),l=Math.floor((window.innerHeight-n)/2),o=window.open(t.href,"social",`\n                width=${a},\n                height=${n},\n                left=${i},\n                top=${l},\n                location=0,\n                menubar=0,\n                toolbar=0,\n                status=0,\n                scrollbars=1,\n                resizable=1\n            `);o&&o.focus()})})}(),function(){let e=document.querySelectorAll(".post__video, .post__iframe");for(let t=0;t<e.length;t++){let s=e[t].querySelector("iframe, embed, video, object");if(!s)continue;if("false"===s.getAttribute("data-responsive"))continue;let a=s.getAttribute("width"),n=s.getAttribute("height"),i=!1;if(a&&n&&(a.indexOf("%")>-1&&n.indexOf("%")>-1?(a=parseFloat(a.replace("%","")),n=parseFloat(n.replace("%","")),i=n/a):-1===a.indexOf("%")&&-1===n.indexOf("%")&&(a=parseInt(a,10),n=parseInt(n,10),i=n/a),!1!==i)){let s=100*i+"%";e[t].setAttribute("style","--embed-aspect-ratio:"+s)}}}(),function(e){var t={wrapperSelector:".media-tabs",navSelector:".media-tabs__nav",listSelector:".media-tabs__nav__list",tabSelector:".media-tabs__nav__tab",itemSelector:".media-tabs__item",playButtonClass:"play-button",pauseButtonClass:"pause-button",resumeButtonClass:"resume-button",activeTabClass:"media-tabs__nav__tab--active",activeItemClass:"media-tabs__item--active",initiatedClass:"media-tabs__item--initiated",playingClass:"media-tabs__item--playing",pausedClass:"media-tabs__item--paused",indicatorClass:"media-tabs__indicator",animationSpeed:300,useNativeControls:!1,pauseOtherInstancesOnPlay:!0},s={};function a(e){e.dataset.poster&&(e.poster=e.dataset.poster),Array.from(e.querySelectorAll("source")).forEach(e=>{e.dataset.src&&(e.src=e.dataset.src)}),e.load(),e.classList.remove("lazy-video")}Object.keys(t).forEach(function(e){s[e]=t[e]}),"object"==typeof e&&Object.keys(e).forEach(function(t){void 0!==e[t]&&(s[t]=e[t])}),document.addEventListener("DOMContentLoaded",function(){var e,t=document.querySelectorAll(s.wrapperSelector);t.length&&(t.forEach(function(e,n){var i=e.querySelector(s.navSelector),r=e.querySelector(s.listSelector),l=r?Array.from(r.querySelectorAll(s.tabSelector)):[],o=Array.from(e.querySelectorAll(s.itemSelector)),c=o.length>0?o[0].parentElement:e;if(i&&r&&0!==l.length){try{c.style.touchAction="pan-y"}catch(e){}s.useNativeControls&&o.forEach(e=>{var t=e.querySelector("video");t&&(t.controls=!0);var s=e.querySelector(".media-tabs__controls");s&&(s.style.display="none")});var d=new Set;l.forEach(function(t,s){var a=t.dataset.tabTarget||"tab-"+s,i=a;d.has(i)&&(i=a+"-"+n+"-"+s,t.dataset.tabTarget=i),d.add(i);var r=e.querySelector("#media-panel-"+a);r&&(r.id="media-panel-"+i)});var u=document.createElement("div");u.classList.add(s.indicatorClass),r.appendChild(u);var m=l.findIndex(e=>e.classList.contains(s.activeTabClass));m<0&&(m=0),l.forEach(e=>e.addEventListener("click",e=>y(e.currentTarget.dataset.tabTarget,!1))),r.addEventListener("keydown",function(e){var t=m,s=!1;switch(e.key){case"ArrowRight":case"ArrowDown":t=(m+1)%l.length,s=!0;break;case"ArrowLeft":case"ArrowUp":t=(m-1+l.length)%l.length,s=!0;break;case"Home":t=0,s=!0;break;case"End":t=l.length-1,s=!0}s&&(e.preventDefault(),y(l[t].dataset.tabTarget,!0))}),o.forEach(e=>{var a=e.querySelector("video"),n=e.querySelector("."+s.playButtonClass),i=e.querySelector("."+s.pauseButtonClass),r=e.querySelector("."+s.resumeButtonClass);a&&(n&&n.addEventListener("click",()=>{e.classList.add(s.initiatedClass),a.play().catch(()=>{e.classList.remove(s.initiatedClass,s.playingClass,s.pausedClass)})}),i&&i.addEventListener("click",()=>a.pause()),r&&r.addEventListener("click",()=>a.play().catch(()=>{e.classList.add(s.pausedClass),e.classList.remove(s.playingClass,s.initiatedClass)})),a.addEventListener("play",()=>{var n;s.pauseOtherInstancesOnPlay&&(n=a,s.pauseOtherInstancesOnPlay&&t.forEach(e=>{Array.from(e.querySelectorAll("video")).forEach(e=>{e===n||e.paused||e.pause()})})),e.classList.remove(s.initiatedClass,s.pausedClass),e.classList.add(s.playingClass),o.forEach(t=>{if(t!==e){var n=t.querySelector("video");n&&n!==a&&t.classList.remove(s.playingClass,s.initiatedClass)}})}),a.addEventListener("pause",()=>{a.ended||!e.classList.contains(s.playingClass)&&!e.classList.contains(s.initiatedClass)||e.classList.add(s.pausedClass),e.classList.remove(s.playingClass,s.initiatedClass)}),a.addEventListener("ended",()=>{e.classList.remove(s.playingClass,s.pausedClass,s.initiatedClass),a.currentTime=0}))});var v=!1,h=0,b=0,p=null;c.addEventListener("mousedown",g),c.addEventListener("mousemove",C),c.addEventListener("mouseup",S),c.addEventListener("mouseleave",S),c.addEventListener("touchstart",g,{passive:!1}),c.addEventListener("touchmove",C,{passive:!1}),c.addEventListener("touchend",S),c.addEventListener("touchcancel",S);var f=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(o.forEach(e=>{e.querySelectorAll("video.lazy-video").forEach(a)}),f.unobserve(e))})},{threshold:.1});f.observe(e),requestAnimationFrame(()=>{var e=l[m]||l[0];e&&y(e.dataset.tabTarget,!1)})}function y(e,t){var n;o.forEach(e=>{var t=e.querySelector("video");t&&t!==n&&!t.paused&&t.pause()});var c=null;l.forEach((a,n)=>{var i=a.dataset.tabTarget===e;a.classList.toggle(s.activeTabClass,i),a.setAttribute("aria-selected",i),a.setAttribute("tabindex",i?"0":"-1"),i&&(m=n,c=a,t&&a.focus())}),o.forEach(t=>{var n=t.id==="media-panel-"+e;if(t.classList.toggle(s.activeItemClass,n),t.setAttribute("tabindex",n?"0":"-1"),n)t.querySelectorAll("video.lazy-video").forEach(e=>a(e));else{t.classList.remove(s.initiatedClass,s.playingClass,s.pausedClass);var i=t.querySelector("video");i&&!i.paused&&i.pause()}}),c&&(function(e){if(!e)return u.style.width="0",void(u.style.transform="translateX(0)");u.style.width=e.offsetWidth+"px",u.style.transform="translateX("+e.offsetLeft+"px)"}(c),function(e){var t=i.getBoundingClientRect(),s=e.getBoundingClientRect(),a=r.scrollWidth,n=window.getComputedStyle(r).transform,l=0;if("none"!==n){var o=n.match(/matrix\((.+)\)/);if(o&&o[1])l=parseFloat(o[1].split(",")[4])||0;else try{l=new DOMMatrix(n).m41}catch(e){l=0}}var c=t.width/2,d=s.left-t.left+s.width/2,u=Math.min(0,Math.max(t.width-a,l+(c-d)));r.style.transform="translateX("+u+"px)"}(c))}function L(e){return e.touches&&e.touches[0]?{x:e.touches[0].clientX,y:e.touches[0].clientY}:e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}function g(e){if(!(e.target.closest("."+s.playButtonClass)||e.target.closest("."+s.pauseButtonClass)||e.target.closest("."+s.resumeButtonClass)||e.target.closest(s.navSelector))){var t=L(e);h=t.x,b=t.y,v=!0,p=0===e.type.indexOf("mouse")?"x":null,c.style.cursor="grabbing",0===e.type.indexOf("mouse")&&e.preventDefault()}}function C(e){if(v){var t=L(e),s=t.x-h,a=t.y-b;if(null==p){if(Math.abs(s)+Math.abs(a)<12)return;p=Math.abs(s)>Math.abs(a)?"x":"y"}if("y"===p)return v=!1,void(c.style.cursor="");"x"===p&&e.cancelable&&e.preventDefault()}}function S(e){if(v||"x"===p){var t=L(e),s=h-t.x;if(v=!1,c.style.cursor="","x"===p&&Math.abs(s)>50)if(s>0){var a=(m+1)%l.length;y(l[a].dataset.tabTarget,!1)}else{var n=(m-1+l.length)%l.length;y(l[n].dataset.tabTarget,!1)}p=null}else p=null}}),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){t.forEach(e=>{const t=e.querySelector(s.navSelector),a=e.querySelector(s.listSelector),n=a?Array.from(a.querySelectorAll(s.tabSelector)):[],i=a?a.querySelector("."+s.indicatorClass):null;if(!t||!a||!i||0===n.length)return;const r=n.find(e=>e.classList.contains(s.activeTabClass));if(r){var l=i.style.transition,o=a.style.transition;i.style.transition="none",a.style.transition="none",i.style.width=r.offsetWidth+"px",i.style.transform="translateX("+r.offsetLeft+"px)";var c=t.getBoundingClientRect(),d=r.getBoundingClientRect(),u=a.scrollWidth,m=window.getComputedStyle(a).transform,v=0;if("none"!==m){var h=m.match(/matrix\((.+)\)/);if(h&&h[1])v=parseFloat(h[1].split(",")[4])||0;else try{v=new DOMMatrix(m).m41}catch(e){v=0}}var b=c.width/2,p=d.left-c.left+d.width/2,f=Math.min(0,Math.max(c.width-u,v+(b-p)));a.style.transform="translateX("+f+"px)",i.offsetHeight,a.offsetHeight,i.style.transition=l,a.style.transition=o||"transform "+s.animationSpeed+"ms ease"}})},150)}))})}(window.mediaTabsConfig),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("backToTop"),t=document.querySelector(".bttop__progress-indicator"),s=2*Math.PI*22;if(e){const a=()=>{const a=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollHeight-document.documentElement.clientHeight,i=s-a/n*s;t.style.strokeDasharray=s,t.style.strokeDashoffset=i,a>400?e.classList.add("is-visible"):e.classList.remove("is-visible")},n=()=>{window.scrollTo({top:0,behavior:"smooth"})};window.addEventListener("scroll",a),e.addEventListener("click",n),a()}});